# 点云数据采集与演示系统

这是一个基于 Three.js 和 Potree 的点云数据可视化演示系统，专门用于展示点云数据的加载、渲染和交互功能。

## 功能特性

### 🎯 核心功能

- **点云数据加载**: 支持加载多种格式的点云数据
- **实时渲染**: 高性能的 3D 点云渲染
- **交互控制**: 鼠标控制视角旋转、缩放和平移
- **多数据源支持**: 可同时加载多个点云数据集

### 🎮 交互功能

- **点云切换**: 在多个点云数据之间切换显示
- **点大小调节**: 实时调整点云中每个点的大小
- **边界框显示**: 显示/隐藏点云的边界框
- **相机重置**: 一键重置相机到默认位置
- **动画控制**: 暂停/恢复渲染动画

### 📊 数据信息显示

- 当前点云名称
- 边界框尺寸信息
- 位置和缩放参数
- 实时加载状态

## 项目结构

```
web3d/
├── Editor3D.js          # 点云演示核心类
├── main.js              # 应用入口文件
├── index.html           # 主页面
├── package.json         # 项目依赖配置
├── public/
│   └── data/            # 点云数据目录
│       ├── lion_takanawa/  # 狮子雕像点云数据
│       └── pump/           # 泵设备点云数据
└── README.md            # 项目说明文档
```

## 数据源说明

### 狮子雕像点云 (Lion Takanawa)

- **数据格式**: Potree 格式
- **文件结构**:
  - `cloud.js` - 点云配置文件
  - `data/` - 八叉树数据文件
- **特点**: 高精度雕像扫描数据，包含颜色信息

### 泵设备点云 (Pump)

- **数据格式**: Potree 2.0 格式
- **文件结构**:
  - `metadata.json` - 元数据文件
  - `octree.bin` - 八叉树数据
  - `hierarchy.bin` - 层次结构数据
- **特点**: 工业设备扫描数据，包含强度信息

## 安装和运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

### 3. 构建生产版本

```bash
npm run build
```

## 使用说明

### 基本操作

1. **视角控制**:

   - 鼠标左键拖拽: 旋转视角
   - 鼠标滚轮: 缩放
   - 鼠标右键拖拽: 平移视角

2. **点云控制**:

   - 使用左上角控制面板切换不同点云
   - 调节点大小滑块改变点的显示大小
   - 勾选/取消勾选"显示边界框"来显示或隐藏边界框

3. **其他功能**:
   - 点击"重置相机"回到默认视角
   - 点击"暂停动画"停止渲染循环

### 技术特性

- **高性能渲染**: 使用 WebGL 进行硬件加速渲染
- **LOD 支持**: 基于距离的细节层次渲染
- **内存优化**: 智能的点云数据管理
- **响应式设计**: 自适应不同屏幕尺寸

## 技术栈

- **Three.js**: 3D 图形渲染引擎
- **Potree**: 点云可视化库
- **Vite**: 现代前端构建工具
- **WebGL**: 硬件加速图形渲染

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 开发说明

### 添加新的点云数据

1. 将点云数据文件放入 `public/data/` 目录
2. 在 `Editor3D.js` 的 `loadPointClouds()` 方法中添加加载代码
3. 更新 UI 控制面板中的选项

### 自定义渲染参数

可以在 `loadPointCloud()` 方法中调整以下参数：

- `position`: 点云在场景中的位置
- `rotation`: 点云的旋转角度
- `scale`: 点云的缩放比例
- `material.size`: 点的大小
- `material.shape`: 点的形状

## 许可证

本项目仅供学习和演示使用。

## 联系方式

如有问题或建议，请联系开发团队。
